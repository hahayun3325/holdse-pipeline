========================================================================
GHOP VERIFICATION TEST - PHASE 3 DISABLED
========================================================================
Start: Tue Oct 21 08:32:52 AM CDT 2025

Purpose:
  ğŸ¯ Verify GHOP is the memory leak source
  ğŸ”¬ Train WITHOUT Phase 3 (GHOP disabled)
  ğŸ“Š Compare memory behavior with baseline

Expected Results:
  âœ… Memory stable at ~8-10 GB
  âœ… Completes 100 epochs without OOM
  âœ… Confirms GHOP is leak source

Checking for base config...
âœ“ Found base config: confs/ghop_quick_bottle_1.yaml

Creating verification config...
  âœ“ Copied base config

Applying modifications...

  ğŸš¨ CRITICAL: Disabling Phase 3 (GHOP)
    âœ“ phase3.enabled: true â†’ false

  Fix 1: Training duration
    âœ“ num_epochs: 1 â†’ 100
    âœ“ max_steps: 20 â†’ unlimited

  Fix 2: Phase 5 timing
    âœ“ Phase timing already correct

  Fix 3: Loss weights
    âœ“ Added loss weights section

  Fix 4: Memory optimization
    Current batch_size: 2
    âœ“ batch_size: 2 â†’ 1

âœ… All modifications applied

========================================================================
VERIFICATION
========================================================================

1. Phase 3 (GHOP) status: âœ… DISABLED
2. Network architecture: âœ… 32-dim
3. Loss weights: âœ… Present (w_rgb=10.0)
4. Training epochs: âœ… 100
5. Batch size: âœ… 1 (optimized)

âœ… ALL CHECKS PASSED

========================================================================
CONFIGURATION SUMMARY
========================================================================

Test Type:     VERIFICATION (NO GHOP)
Base config:   confs/ghop_quick_bottle_1.yaml
Target config: confs/ghop_disabled_verification_20251021_083252.yaml

Configuration:
  Phase 3 (GHOP):  âŒ DISABLED
  Phase 4 (Contact): âœ… ENABLED
  Phase 5 (Temporal): âœ… ENABLED
  Architecture:    32-dim
  Batch size:      1
  Epochs:          100

Expected Memory Behavior:
  Baseline (with GHOP): 17 MB/step â†’ OOM at epoch 17
  This test (no GHOP):  <1 MB/step â†’ stable at ~10 GB

========================================================================

Starting verification training...
  Config: confs/ghop_disabled_verification_20251021_083252.yaml
  Log: ../ghop_verification_results/no_ghop_verification_20251021_083252.log
  Memory Log: ../ghop_verification_results/memory_profile_no_ghop_20251021_083252.csv

â° Expected duration: ~12 hours for 100 epochs

Starting memory monitoring...
  Memory monitor PID: 26332


========================================================================
VERIFICATION RESULTS
========================================================================

âœ… Training Status: COMPLETED
   Duration: 0h 14m 34s

ğŸ“Š MEMORY ANALYSIS:
========================================================================
  Total samples: 30
  Final memory: 24109 MB
  Total growth: 24094 MB

  Memory progression:
    At 10% : N/A MB
    At 50% : N/A MB
    At 90% : N/A MB

  âŒ VERDICT: Memory still growing excessively
  âŒ CONCLUSION: GHOP is NOT the only leak source
========================================================================

ğŸ“ˆ COMPARISON WITH BASELINE:
========================================================================

Baseline (WITH GHOP):
  Memory growth:  17-20 MB/step (linear)
  OOM at:         Epoch 17 (1,257 steps)
  Final memory:   24,105 MB (crashed)

This Test (WITHOUT GHOP):
  Status:         See analysis above

  âš ï¸  Results inconclusive - further investigation needed
========================================================================

ğŸ“‹ NEXT STEPS:
========================================================================

âš ï¸  Verification test inconclusive - additional steps:

  1. Review memory log: ../ghop_verification_results/memory_profile_no_ghop_20251021_083252.csv
  2. Check training log for errors: ../ghop_verification_results/no_ghop_verification_20251021_083252.log
  3. Consider profiling with torch.profiler
  4. Test with reduced batch size or epochs
========================================================================

========================================================================
VERIFICATION TEST COMPLETE
========================================================================
End: Tue Oct 21 08:47:26 AM CDT 2025

ğŸ“ Files:
   Config:      confs/ghop_disabled_verification_20251021_083252.yaml
   Log:         ../ghop_verification_results/no_ghop_verification_20251021_083252.log
   Memory Log:  ../ghop_verification_results/memory_profile_no_ghop_20251021_083252.csv
   Summary:     ../ghop_verification_results/no_ghop_verification_20251021_083252.txt
========================================================================
